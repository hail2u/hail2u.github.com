<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>&amp;</title>

    <link rel="stylesheet" href="./natural.css">
    <style>
      html {
        overflow-y: scroll;
      }

      body {
        line-height: 1;
        font-family: "Palatino", "Palatino Linotype", serif;
        text-align: center;
      }

      a {
        color: inherit;
      }

      header h1 {
        font-size: 96px;
      }

      #result {
        margin: auto;
        width: 960px;
        text-align: center;
        zoom: 1;
      }

      #result:before,
      #result:after {
        display: block;
        height: 0;
        visibility: hidden;
        content: "\0020";
      }

      #result:after {
        clear: both;
      }

      .preview {
        margin: 32px 10px 20px 10px;
        float: left;
        width: 140px;
      }

      .preview:hover {
        background-color: rgb(243, 243, 243);
      }

      .preview a {
        text-decoration: none;
      }

      .ampersand {
        margin-top: 0;
        font-size: 96px;
      }

      .fontFamily {
        margin: 0 10px 10px 10px;
        overflow: hidden;
        font-weight: normal;
        font-size: 16px;
        white-space: nowrap;
      }
    </style>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="./jquery.query-yql.min.js"></script>
    <script>
      var statement = "select * from json where url='https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyApMgI8vW2EfAFAeVa4hDvaLoaW9A3WY94&subsets=latin&sort=alpha'";

      $(function () {
        $.queryYQL(statement, function (d) {
          var fonts = shuffle(d.query.results.json.items);
          var t = $("#result").empty();

          for (var i = 0, l = fonts.length; i < l; i++) {
            var f = fonts[i];
            var fe = f.family.replace(/ /g, "+");
            var v = $.isArray(f.variants) ? f.variants.join(",") : f.variants;
            var url = "http://fonts.googleapis.com/css?family=" + fe + ":" + v;
            $("head").append($("<link/>").attr({
              rel:  "stylesheet",
              href: url
            }));
            var preview = $("<section/>", {
              style: "font-family:'" + f.family + "',sans-serif"
            }).addClass("preview");
            var anchor = $("<a/>", {
              href: "http://www.google.com/fonts/family?family=" + fe
            });
            anchor.append($("<p/>").addClass("ampersand").append("&"));
            anchor.append($("<h1/>").addClass("fontFamily").append(f.family));
            preview.append(anchor).appendTo(t);
          }
        });
      });

      function shuffle (list) {
        var i = list.length;

        while (--i) {
          var j = Math.floor(Math.random() * (i + 1));
          if (i == j) continue;
          var k = list[i];
          list[i] = list[j];
          list[j] = k;
        }

        return list;
      }
    </script>
  </head>
  <body>
    <header>
      <h1>&amp;</h1>
    </header>

    <div id="result">
      <p>Preview Google Web Fonts by &quot;&amp;&quot;</p>
    </div>

    <footer>
      <p>This is a pure JavaScript alternative for <a href="http://opensourceampersands.com/">Open Source Ampersands</a>.</p>
      <p>All Fonts are provided by <a href="http://www.google.com/fonts">Google Fonts</a>.</p>
      <address>
        <p>&copy; 2011 Kyo Nagashima</p>
      </address>
    </footer>
  </body>
</html>
