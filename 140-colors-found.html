<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>140 Colors Found</title>

    <link rel="stylesheet" href="http://yui.yahooapis.com/3.3.0/build/cssreset/reset-min.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Vollkorn:regular">
    <style>
      html {
        width: 100%;
        height: 100%;
      }

      body {
        display: table;
        width: 100%;
        height: 100%;
        color: rgb(128, 128, 128);
        background-color: rgb(128, 128, 128);
        font: 100%/1 "Vollkorn", "Georgia", serif;
        -webkit-transition-duration: 3s;
        -moz-transition-duration: 3s;
        -o-transition-duration: 3s;
        transition-duration: 3s;
      }

      .light {
        color: rgb(0, 0, 0);
        text-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
      }

      .dark {
        color: rgb(255, 255, 255);
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
      }

      body > header > h1 {
        position: absolute;
        top: 1em;
        left: 1em;
        font-size: 18px;
      }

      #color-values {
        display: table-cell;
        width: 100%;
        height: 100%;
        vertical-align: middle;
        text-align: center;
      }

      #color-values header h1 {
        margin: 0 0 24px 0;
        font-weight: normal;
        font-size: 96px;
      }

      #color-values p {
        font-size: 24px;
      }

      body > footer > address {
        position: absolute;
        right: 1em;
        bottom: 1em;
        font-size: 18px;
      }
    </style>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script>
      $(function () {
        $.getJSON("./js/color-keywords.json", function (colorKeywords) {
          var keywords = [],
            s;

          for (s in colorKeywords) {
            keywords.push(s);
          }

          var keyword = keywords[Math.floor(Math.random() * keywords.length)],
            color = colorKeywords[keyword],
            b = $("body").css("background-color", color.rgb);
          $("#color-values header h1").text(keyword);
          $("#color-values p").text(color.rgb);

          if (calculateBrightness(color.rgb) > 127.5) {
            b.addClass("light");
          } else {
            b.addClass("dark");
          }
        });
      });

      function calculateBrightness (color) {
        var c = color.match(/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/),
          b = ((c[1] * 299) + (c[2] * 587) + (c[3] * 114)) / 1000;

        return b;
      }
    </script>
  </head>
  <body>
    <header>
      <h1>140 Colors Found</h1>
    </header>

    <section id="color-values">
      <header>
        <h1>Color Keyword</h1>
      </header>

      <p>#RRGGBB / rgb(r, g, b) / hsl(h, s, l)</p>
    </section>

    <footer>
      <address>
        <p>&copy; 2011 Kyo Nagashima</p>
      </address>
    </footer>
  </body>
</html>
