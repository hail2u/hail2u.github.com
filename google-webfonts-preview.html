<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Google Web Fonts Preview</title>
    <link rel="stylesheet" href="./natural.css">
    <style>
      body style {
        margin: 30px 0;
        padding: 15px;
        display: block;
        line-height: 1.25;
        background-color: #f7f7f7;
        font-family: "Menlo", "DejaVu Sans Mono", "Andale Mono", monospace;
        white-space: pre-wrap;
        word-wrap: break-word; }
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="./lib/jquery.query-yql.min.js"></script>
    <script>
      var statement = "select * from html where url='http://www.google.com/webfonts/preview' and xpath='//script'";

      $(function () {
        $.queryYQL(statement, function (d) {
          var scripts = d.query.results.script;

          for (var i = 0, l = scripts.length; i < l; i++) {
            var c = scripts[i].content;

            if (c && c.indexOf("var fonts") >= 0) {
              $.globalEval(c.replace(/[\r\n]/g, " ").split(";")[0]);
              break;
            }
          }

          for (var font in fonts) {
            $("head").append($("<link/>").attr({
              rel:  "stylesheet",
              href: fonts[font].url
            }));
          }

          $("#preview").click(function () {
            var t = $("#result").empty();
            var sampleText = $("#sample-text").val();

            for (var font in fonts) {
              var f = fonts[font];
              var fontFamily = f.familyUrl;
              $("<p/>", {
                class: "preview",
                style: "font-family:'" + fontFamily + "'"
              }).append($("<a/>", {
                href: "http://www.google.com/webfonts/family?family=" + fontFamily.replace(/ /g, "+")
              }).append(fontFamily)).append(": " + sampleText).appendTo(t);
            }
          }).attr({
            disabled: ""
          });
        });
      });
    </script>
  </head>
  <body>
    <h1>Google Web Fonts Preview</h1>

    <p>
      <input type="text" size="48" value="Lorem ipsum dolor sit amet." id="sample-text">
      <input type="button" value="Preview" disabled="disabled" id="preview">
    </p>

    <style contenteditable>/* You can edit preview style directly. */
.preview {
  color: inherit;
  font-style: normal;
  font-variant: normal;
  font-weight: normal;
  font-size: 24px;
  text-decoration: none;
  letter-spacing: 0;
  word-spacing: 0;
  text-transform: none;
  text-shadow: none;
}</style>

    <div id="result">
      <p>Edit text and font-size, then press &quot;Preview&quot;</p>
    </div>

    <p>All Fonts are provided by <a href="http://www.google.com/webfonts">Google Web Fonts</a>.</p>
  </body>
</html>
